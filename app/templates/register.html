{% extends "index.html" %}

{% block title %}Register{% endblock %}

{% block content %}
<div class="flex items-center justify-center min-h-screen bg-white md:bg-gray-50">
    {% if messages %}
    <div class="mb-4">
        {% for message in messages %}
        <p class="p-4 shadow-md border border-black/50 rounded-lg absolute top-6 left-1/2 transform -translate-x-1/2">
            {{ message }}</p>
        {% endfor %}
    </div>
    {% endif %}
    <div class="w-full max-w-2xl px-4" style="opacity: 1; transform: none;">
        <div class="bg-white p-6 rounded-none md:rounded-lg shadow-none md:shadow-lg w-full">
            <h1 class="text-3xl font-bold text-left mb-14 text-teal-600 capitalize">Redefine the concept of passing
                notes</h1>
            <form method="post">
                {% csrf_token %}
                <div class="space-y-6">
                    <div>
                        <label for="username" class="block text-lg font-medium text-gray-700">Username</label>
                        <input id="username" name="username" type="text" placeholder="e.g., thecoolkid_348"
                            class="mt-2 block w-full rounded-lg border-gray-300 shadow-sm outline-none focus:ring-2 focus:ring-green-500 px-4 py-3"
                            required value="{{ form.username.value }}" oninput="this.value = this.value.toLowerCase();">
                        <span class="text-sm text-gray-400 font-normal italic mt-1 ml-1">It doesn't have to be your real
                            name</span>
                    </div>

                    <div class="relative"><label for="password"
                            class="block text-lg font-medium text-gray-700">Password</label><input id="password"
                            name="password" type="password" placeholder="Enter your password"
                            class="mt-2 block w-full rounded-lg border-gray-300 shadow-sm outline-none focus:ring-2 focus:ring-green-500 px-4 py-3"
                            required="" value="{{ form.password1.value }}"><button type="button"
                            class="absolute top-10 right-4 text-gray-500 hover:text-gray-700"><svg stroke="currentColor"
                                fill="currentColor" stroke-width="0" viewBox="0 0 20 20" aria-hidden="true" height="24"
                                width="24" xmlns="http://www.w3.org/2000/svg">
                                <path d="M10 12a2 2 0 100-4 2 2 0 000 4z"></path>
                                <path fill-rule="evenodd"
                                    d="M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z"
                                    clip-rule="evenodd"></path>
                            </svg></button></div>
                    <a href="/auth/reset_password" class="text-right text-sm text-green-600">Forgot password?</a>
                    <button type="submit"
                        class="w-full py-3 px-4 bg-gradient-to-r from-green-400 to-teal-400 text-white font-semibold text-lg rounded-lg shadow-md hover:bg-green-500 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2">Sign
                        Up</button>
                </div>
            </form>
            <p class="text-center mt-6 text-sm text-gray-600">Already have an account? <a href="/auth/login"
                    class="text-green-600 underline">Log in</a></p>
        </div>
    </div>
</div>
<script>
    document.addEventListener('DOMContentLoaded', function () {
        const passwordInput = document.getElementById('password');
        const toggleButton = passwordInput.nextElementSibling;

        toggleButton.addEventListener('click', function () {
            const inputType = passwordInput.getAttribute('type') === 'password' ? 'text' : 'password';
            passwordInput.setAttribute('type', inputType);

            if (inputType === 'password') {
                this.innerHTML = `
                    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 20 20" aria-hidden="true" height="24" width="24" xmlns="http://www.w3.org/2000/svg">
                        <path d="M10 12a2 2 0 100-4 2 2 0 000 4z"></path>
                        <path fill-rule="evenodd" d="M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z" clip-rule="evenodd"></path>
                    </svg>`;
            } else {
                this.innerHTML = `
                    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 20 20" aria-hidden="true" height="24" width="24" xmlns="http://www.w3.org/2000/svg">
                        <path fill-rule="evenodd" d="M10 3c-4.478 0-8.268 2.943-9.542 7 1.274 4.057 5.064 7 9.542 7 4.478 0 8.268-2.943 9.542-7C18.268 5.943 14.478 3 10 3zm-6.6 7a7.978 7.978 0 0113.2 0 7.978 7.978 0 01-13.2 0z" clip-rule="evenodd"></path>
                        <path d="M13.707 12.707a1 1 0 01-1.414 0L10 10.414l-2.293 2.293a1 1 0 01-1.414-1.414L8.586 9l-2.293-2.293a1 1 0 011.414-1.414L10 7.586l2.293-2.293a1 1 0 011.414 1.414L11.414 9l2.293 2.293a1 1 0 010 1.414z"></path>
                    </svg>`;
            }
        });
    });
</script>

{% endblock %}